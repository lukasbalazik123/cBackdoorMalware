#include <stdio.h>
#include <arpa/inet.h>
#include <stdlib.h>

int main(int argc, char *argv[])
{
    unsigned y;
    unsigned t;
    unsigned u;
    unsigned x;

    int port;
    int port_obfuscated;

    x = inet_addr(argv[1]);

    t = (x ^ (x >> 1)) & 0x44444444;
    u = (x ^ (x << 2)) & 0xcccccccc;
    y = ((x & 0x88888888) >> 3) | (t >> 1) | u;

    port = strtol(argv[2], NULL, 10);

    port_obfuscated = ~(port^0xdeadbeef);

    printf("enc(%s): %d\n", argv[1], y);
    printf("port(%d): %d\n", port, port_obfuscated);

    return 0;
}
